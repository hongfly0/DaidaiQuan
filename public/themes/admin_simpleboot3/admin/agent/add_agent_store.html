<include file="public@header"/>
</head>
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<style>
    #app {
        width: 1265px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        font-family: "Source Sans Pro",Calibri,Candara,Arial,sans-serif;
    }

    .add-product {
        display: flex;
        align-items: center;
    }

    .add-product .el-tag {
        margin-right: 20px;
    }

    /* 上传图片相关 */
    .upload-img {
        display: flex;
        list-style: none;
    }

    .upload-img li+li {
        margin-left: 20px;
    }

    .avatar-uploader .el-upload {
        border: 1px dashed #d9d9d9;
        border-radius: 6px;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }

    .avatar-uploader .el-upload:hover {
        border-color: #409EFF;
    }

    .avatar-uploader-icon {
        font-size: 28px;
        color: #8c939d;
        width: 178px;
        height: 178px;
        line-height: 178px;
        text-align: center;
    }

    .avatar {
        width: 178px;
        height: 178px;
        display: block;
    }
</style>

<body>
<div class="wrap js-check-wrap">
    <ul class="nav nav-tabs">
        <li class="active"><a href="#A" data-toggle="tab">{:lang('ADD_AGENT_STORE')}</a></li>
    </ul>
    <form class="form-horizontal js-ajax-form margin-top-20" role="form" action="{:url('setting/sitePost')}"
          method="post">
        <fieldset>
            <div class="tabbable">
                <div class="tab-content">
                    <div class="tab-pane active" id="A">
                        <div class="form-group">
                            <label for="input-site-name" class="col-sm-2 control-label"><span
                                    class="form-required">*</span>{:lang('THE_CONTACT')}</label>
                            <div class="col-md-6 col-sm-10">
                                <input type="text" class="form-control" id="input-site-name" name="options[site_name]"
                                       value="{$null|default=''}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="input-admin_url_password" class="col-sm-2 control-label">
                                </span>{:lang('COMPANY_NAME')}</label>

                            </label>
                            <div class="col-md-6 col-sm-10">
                                <input type="text" class="form-control" id="input-admin_url_password"
                                       name="admin_settings[admin_password]"
                                       value="{$admin_settings.admin_password|default=''}"
                                       id="js-site-admin-url-password">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="input-site_icp" class="col-sm-2 control-label">{:lang('COMPANY_ADDRESS')}</label>
                            <div class="col-md-6 col-sm-10">
                                <input type="text" class="form-control" id="input-site_icp" name="options[site_icp]"
                                       value="{$site_info.site_icp|default=''}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="input-site_icp" class="col-sm-2 control-label">{:lang('COMPANY_PHONE')}</label>
                            <div class="col-md-6 col-sm-10">
                                <input type="text" class="form-control" id="input-site_gwa" name="options[site_gwa]"
                                       value="{$site_info.site_gwa|default=''}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="input-site_admin_email" class="col-sm-2 control-label">{:lang('LEGAL_PERSON')}</label>
                            <div class="col-md-6 col-sm-10">
                                <input type="text" class="form-control" id="input-site_admin_email"
                                       name="legal_person" value="{$site_info.site_admin_email|default=''}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="input-site_admin_email" class="col-sm-2 control-label">{:lang('MOBILE_NO')}</label>
                            <div class="col-md-6 col-sm-10">
                                <input type="text" class="form-control"
                                       name="mobile" value="{$site_info.site_admin_email|default=''}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="input-site_admin_email" class="col-sm-2 control-label">{:lang('SERVICE_AREA')}</label>
                            <div class="col-md-6 col-sm-10">
                                <input type="text" class="form-control"
                                       name="mobile" value="{$site_info.site_admin_email|default=''}">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="input-site_admin_email" class="col-sm-2 control-label">{:lang('EXPIRATION_TIME')}</label>
                            <div class="col-md-6 col-sm-10">
                                <input type="text" class="form-control"
                                       name="mobile" value="{$site_info.site_admin_email|default=''}">
                            </div>
                        </div>
<<<<<<< HEAD
=======
                        <div id="app">
                            <!-- 添加产品 -->
                            <div class="add-product">
                <span class="add-product-title">
                添加代办产品编号：
                </span>
                                <div class="add-product-list">
                                    <el-tag :key="tag" v-for="tag in productList" closable :disable-transitions="false" @close="handleClose(tag)">
                                        {{tag}}
                                    </el-tag>
                                    <el-input class="input-new-tag" v-if="inputVisible" v-model="inputValue" ref="saveTagInput" size="small"
                                              @keyup.enter.native="handleInputConfirm" @blur="handleInputConfirm">
                                    </el-input>
                                    <el-button v-else class="button-new-tag" size="small" @click="showInput">+ 添加新的编号</el-button>

                                </div>
                            </div>
                            <ul class="upload-img">
                                <li>
                                    <p>营业执照</p>
                                    <el-upload class="avatar-uploader" action="{:url('agent/upload_pic')}" :show-file-list="false"
                                               :on-success="handleAvatarSuccess1">
                                        <img v-if="imageUrl1" :src="imageUrl" class="avatar">
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                    </el-upload>
                                </li>
                                <li>
                                    <p>营业执照</p>
                                    <el-upload class="avatar-uploader" action="{:url('agent/upload_pic')}" :show-file-list="false"
                                               :on-success="handleAvatarSuccess2">
                                        <img v-if="imageUrl2" :src="imageUrl" class="avatar">
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                    </el-upload>
                                </li>
                                <li>
                                    <p>营业执照</p>
                                    <el-upload class="avatar-uploader" action="{:url('agent/upload_pic')}" :show-file-list="false"
                                               :on-success="handleAvatarSuccess3">
                                        <img v-if="imageUrl3" :src="imageUrl" class="avatar">
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                    </el-upload>
                                </li>
                                <li>
                                    <p>营业执照</p>
                                    <el-upload class="avatar-uploader" action="{:url('agent/upload_pic')}" :show-file-list="false"
                                               :on-success="handleAvatarSuccess4">
                                        <img v-if="imageUrl4" :src="imageUrl" class="avatar">
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                    </el-upload>
                                </li>
                            </ul>
                        </div>
>>>>>>> 80cc9c6fc21756014e54cefab0d506e9b64391e5
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <button type="submit" class="btn btn-primary js-ajax-submit" data-refresh="1">
                                    {:lang('SAVE')}
                                </button>
                            </div>
                        </div>
                    </div>
<<<<<<< HEAD
</div>
<script type="text/javascript" src="__STATIC__/js/admin.js"></script>
=======
                </div>
            </div>
        </fieldset>
    </form>
</div>
<script type="text/javascript" src="__STATIC__/js/admin.js"></script>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
    new Vue({
        el: '#app',
        data: function () {
            return {
                //添加编号相关
                productList: [],
                inputVisible: false,
                inputValue: '',
                //上传图片相关
                imageUrl1: "",
                imageUrl2: "",
                imageUrl3: "",
                imageUrl4: ""
            }
        },
        methods: {
            // 添加编号
            handleClose(tag) {
                this.productList.splice(this.productList.indexOf(tag), 1);
            },
            showInput() {
                this.inputVisible = true;
                this.$nextTick(_ => {
                    this.$refs.saveTagInput.$refs.input.focus();
                });
            },

            handleInputConfirm() {
                let inputValue = this.inputValue;
                if (inputValue) {
                    this.productList.push(inputValue);
                }
                this.inputVisible = false;
                this.inputValue = '';
            },
            //上传图片
            handleAvatarSuccess1(res, file) {
                this.imageUrl1 = URL.createObjectURL(file.raw);
            },
            handleAvatarSuccess2(res, file) {
                this.imageUrl2 = URL.createObjectURL(file.raw);
            },
            handleAvatarSuccess3(res, file) {
                this.imageUrl3 = URL.createObjectURL(file.raw);
            },
            handleAvatarSuccess4(res, file) {
                this.imageUrl4 = URL.createObjectURL(file.raw);
            },
        }
    })
</script>
>>>>>>> 80cc9c6fc21756014e54cefab0d506e9b64391e5
</body>
</html>
